import{c as Q,r as M,j as s,b as B,H as V}from"./app-C3vN9ZqW.js";import{B as W}from"./badge-BeQSZ5hG.js";import{B as j}from"./button-DHqUheGy.js";import{b as Y,a as Z,e as I,c as R,d as ee}from"./dialog-D1iW9SYR.js";import{c as se,T as te,a as X,b as f,d as ae,e as u}from"./table-CUOlD-mm.js";import{T as le}from"./textarea-CXou5aGH.js";import{P as ie}from"./pagination-Cw2DGKqj.js";import{C as ne,A as re}from"./app-layout-BA8z4dsO.js";import{C as ce}from"./circle-check-big-DPxPYY8T.js";import{T as oe}from"./trash-2-asa1_Dz5.js";import{c as de}from"./index-Bu_9QbQ_.js";/* empty css            */import"./x-dIQCRAEj.js";import"./index-BzcC5jsX.js";import"./index-CC5mvsOP.js";import"./users-Xs1aNsxQ.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],xe=de("Filter",me),pe={approved:"bg-green-500",pending:"bg-yellow-500",rejected:"bg-red-500"};function Fe(a){const e=Q.c(42),{senderIds:i,currentStatus:F}=a,[H,g]=M.useState(!1),[b,U]=M.useState(null),[l,P]=M.useState(""),q=fe;let N;e[0]===Symbol.for("react.memo_cache_sentinel")?(N=t=>{U(t),g(!0),P("")},e[0]=N):N=e[0];const G=N;let v;e[1]!==l||e[2]!==b?(v=()=>{if(!l.trim()){alert("Please provide a rejection reason");return}B.post(`/admin/sender-ids/${b.id}/reject`,{reason:l}),g(!1),U(null),P("")},e[1]=l,e[2]=b,e[3]=v):v=e[3];const z=v,J=je,K=he;let y;e[4]!==i.links?(y=i?.links||[],e[4]=i.links,e[5]=y):y=e[5];const E=y;let S;e[6]===Symbol.for("react.memo_cache_sentinel")?(S=s.jsx(V,{title:"Admin - Sender IDs"}),e[6]=S):S=e[6];let C;e[7]===Symbol.for("react.memo_cache_sentinel")?(C=s.jsxs("div",{className:"border-b p-6",children:[s.jsx("h2",{className:"text-2xl font-semibold",children:"Sender ID Applications"}),s.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Review and manage sender ID applications"})]}),e[7]=C):C=e[7];let D,w;e[8]===Symbol.for("react.memo_cache_sentinel")?(D=s.jsx(xe,{className:"h-4 w-4 text-gray-500"}),w=s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filter:"}),e[8]=D,e[9]=w):(D=e[8],w=e[9]);let n;e[10]!==F?(n=s.jsx("div",{className:"border-b bg-gray-50 p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[D,w,s.jsx("div",{className:"flex gap-2",children:["all","pending","approved","rejected"].map(t=>s.jsx(j,{size:"sm",variant:F===t?"default":"outline",onClick:()=>K(t),children:t.charAt(0).toUpperCase()+t.slice(1)},t))})]})}),e[10]=F,e[11]=n):n=e[11];let r;e[12]!==E||e[13]!==i.data?(r=s.jsx("div",{className:"p-6",children:i.data.length>0?s.jsxs(s.Fragment,{children:[s.jsxs(se,{children:[s.jsx(te,{children:s.jsxs(X,{children:[s.jsx(f,{children:"Sender ID"}),s.jsx(f,{children:"User"}),s.jsx(f,{children:"Purpose"}),s.jsx(f,{children:"Status"}),s.jsx(f,{children:"Applied On"}),s.jsx(f,{children:"Actions"})]})}),s.jsx(ae,{children:i.data.map(t=>s.jsxs(X,{children:[s.jsx(u,{className:"font-mono font-medium",children:t.sender_id}),s.jsxs(u,{children:[t.user?.name||"N/A",s.jsx("br",{}),s.jsx("span",{className:"text-xs text-gray-500",children:t.user?.email})]}),s.jsx(u,{className:"max-w-xs",children:s.jsx("p",{className:"truncate text-sm",children:t.purpose})}),s.jsx(u,{children:s.jsx(W,{className:pe[t.status],children:t.status})}),s.jsx(u,{children:new Date(t.created_at).toLocaleDateString()}),s.jsx(u,{children:s.jsxs("div",{className:"flex gap-2",children:[t.status==="pending"&&s.jsxs(s.Fragment,{children:[s.jsx(j,{size:"sm",variant:"outline",onClick:()=>q(t),className:"border-green-600 text-green-600",children:s.jsx(ce,{className:"h-4 w-4"})}),s.jsx(j,{size:"sm",variant:"outline",onClick:()=>G(t),className:"border-red-600 text-red-600",children:s.jsx(ne,{className:"h-4 w-4"})})]}),s.jsx(j,{size:"sm",variant:"outline",onClick:()=>J(t),children:s.jsx(oe,{className:"h-4 w-4 text-red-500"})})]})})]},t.id))})]}),s.jsx(ie,{links:E})]}):s.jsx("div",{className:"py-12 text-center text-gray-500",children:"No sender ID applications found."})}),e[12]=E,e[13]=i.data,e[14]=r):r=e[14];let c;e[15]!==n||e[16]!==r?(c=s.jsx("div",{className:"py-12",children:s.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:s.jsxs("div",{className:"overflow-hidden bg-white shadow-sm sm:rounded-lg",children:[C,n,r]})})}),e[15]=n,e[16]=r,e[17]=c):c=e[17];let k;e[18]===Symbol.for("react.memo_cache_sentinel")?(k=s.jsx(Y,{children:"Reject Sender ID"}),e[18]=k):k=e[18];const L=b?.sender_id;let o;e[19]!==L?(o=s.jsxs(Z,{children:[k,s.jsxs(I,{children:['Provide a reason for rejecting "',L,'"']})]}),e[19]=L,e[20]=o):o=e[20];let T;e[21]===Symbol.for("react.memo_cache_sentinel")?(T=t=>P(t.target.value),e[21]=T):T=e[21];let d;e[22]!==l?(d=s.jsx(le,{value:l,onChange:T,placeholder:"Enter rejection reason...",rows:4}),e[22]=l,e[23]=d):d=e[23];let A;e[24]===Symbol.for("react.memo_cache_sentinel")?(A=s.jsx(j,{variant:"outline",onClick:()=>g(!1),children:"Cancel"}),e[24]=A):A=e[24];let _;e[25]!==l?(_=l.trim(),e[25]=l,e[26]=_):_=e[26];const O=!_;let m;e[27]!==z||e[28]!==O?(m=s.jsxs("div",{className:"flex justify-end gap-2",children:[A,s.jsx(j,{onClick:z,disabled:O,children:"Reject"})]}),e[27]=z,e[28]=O,e[29]=m):m=e[29];let x;e[30]!==d||e[31]!==m?(x=s.jsxs("div",{className:"space-y-4",children:[d,m]}),e[30]=d,e[31]=m,e[32]=x):x=e[32];let p;e[33]!==o||e[34]!==x?(p=s.jsxs(R,{children:[o,x]}),e[33]=o,e[34]=x,e[35]=p):p=e[35];let h;e[36]!==H||e[37]!==p?(h=s.jsx(ee,{open:H,onOpenChange:g,children:p}),e[36]=H,e[37]=p,e[38]=h):h=e[38];let $;return e[39]!==c||e[40]!==h?($=s.jsxs(re,{children:[S,c,h]}),e[39]=c,e[40]=h,e[41]=$):$=e[41],$}function he(a){B.get(`/admin/sender-ids?status=${a}`)}function je(a){confirm(`Delete sender ID "${a.sender_id}"? This action cannot be undone.`)&&B.delete(`/admin/sender-ids/${a.id}`)}function fe(a){confirm(`Approve sender ID "${a.sender_id}" for ${a.user?.name}?`)&&B.post(`/admin/sender-ids/${a.id}/approve`)}export{Fe as default};
