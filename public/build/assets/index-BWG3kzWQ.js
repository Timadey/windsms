import{c as pe,r as de,u as ve,j as s,H as Ae}from"./app-BgeeRgAY.js";import{B as J}from"./button-BZdl-t6N.js";import{K as Ce,A as Ee}from"./app-layout-yCpTeWBW.js";import{d as xe,A as Ue,S as Ye}from"./subscription-stat-muOXfrdU.js";import{B as ue}from"./badge-5B0lRxRJ.js";import{c as le,d as ae,C as we,a as Me,b as Te}from"./card-B72YnaTi.js";import{b as De,e as ke,a as Pe,c as Be,d as Le}from"./dialog-BcaXAq46.js";import{I as Ie}from"./input-Dq43pMsW.js";import{L as Fe}from"./label-D0Jsxd11.js";import{a as Oe,S as ze}from"./subscribe-Bwaq0Czl.js";import{C as $e,R as Re}from"./refresh-cw-CN3NdGV6.js";import{C as He}from"./checkbox-CGy-gXiw.js";import{X as _e}from"./x-DOzw08VZ.js";import{T as We}from"./triangle-alert-CCM5iofW.js";import{C as he}from"./check-QIrvrvJj.js";import{T as Ke}from"./trending-up-BG2F35vm.js";import{P as Xe}from"./plus-BbHEbnHs.js";/* empty css            */import"./utils-DFaayVYX.js";import"./index-BJ09fwpG.js";import"./index-DUUzutAs.js";import"./index-ByK7L7Io.js";import"./send-J7CQ9l-m.js";import"./shield-check-CmhVbYST.js";import"./users-BgtwyYqm.js";import"./zap-EBB0d3Ac.js";import"./index-DWJAtGrW.js";function qe(n){const e=pe.c(38),{open:N,onOpenChange:t,currentPlan:r}=n,[i,x]=de.useState(1);let h;e[0]===Symbol.for("react.memo_cache_sentinel")?(h={units:1e3},e[0]=h):h=e[0];const l=ve(h);if(!r)return null;const c=r.extra_sms_price||5,S=l.data.units*c;let v;e[1]===Symbol.for("react.memo_cache_sentinel")?(v=()=>x(2),e[1]=v):v=e[1];const b=v;let g;e[2]===Symbol.for("react.memo_cache_sentinel")?(g=()=>x(1),e[2]=g):g=e[2];const P=g;let u;e[3]!==l||e[4]!==t?(u=()=>{t(!1),x(1),l.reset()},e[3]=l,e[4]=t,e[5]=u):u=e[5];const f=u;let p;e[6]!==l||e[7]!==f?(p=()=>{l.post(Ce.extraUnits().url,{onSuccess:()=>{f()}})},e[6]=l,e[7]=f,e[8]=p):p=e[8];const C=p,y=i===1?"Buy Extra SMS Units":"Review & Confirm";let j;e[9]!==y?(j=s.jsx(De,{className:"text-2xl font-semibold",children:y}),e[9]=y,e[10]=j):j=e[10];const a=i===1?"Purchase additional SMS units for your account":"Review your purchase before completing payment";let m;e[11]!==a?(m=s.jsx(ke,{children:a}),e[11]=a,e[12]=m):m=e[12];let d;e[13]!==j||e[14]!==m?(d=s.jsxs(Pe,{children:[j,m]}),e[13]=j,e[14]=m,e[15]=d):d=e[15];let o;e[16]!==r.name||e[17]!==c||e[18]!==l||e[19]!==f||e[20]!==i||e[21]!==S?(o=i===1&&s.jsxs("div",{className:"space-y-6",children:[s.jsx(le,{className:"border-2 border-blue-500",children:s.jsxs(ae,{className:"pt-6",children:[s.jsxs("div",{className:"mb-4 flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold capitalize",children:r.name.replace(/-/g," ")}),s.jsx("p",{className:"text-sm text-gray-500",children:"Current Plan"})]}),s.jsxs(ue,{className:"px-3 py-1",children:["â‚¦",c,"/SMS"]})]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Extra SMS units are priced at â‚¦",c," per unit for your plan"]})]})}),s.jsxs("div",{children:[s.jsx(Fe,{htmlFor:"units",className:"text-base font-semibold",children:"How many SMS units do you need?"}),s.jsx("p",{className:"mb-3 text-sm text-gray-500",children:"Choose the number of extra SMS units to purchase"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(Ie,{id:"units",type:"number",min:"1",step:"10",placeholder:"100",value:l.data.units,onChange:M=>l.setData("units",parseInt(M.target.value)||0),className:"text-lg"}),s.jsx("div",{className:"flex gap-2",children:[100,500,1e3].map(M=>s.jsx(J,{type:"button",variant:"outline",onClick:()=>l.setData("units",M),children:M},M))})]}),l.data.units>0&&s.jsxs("div",{className:"mt-4 space-y-2",children:[s.jsxs("p",{className:"text-sm text-green-600",children:["âœ“ Purchasing ",l.data.units," SMS units"]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Total Cost: â‚¦",S.toLocaleString()]})]})]}),s.jsx(le,{className:"bg-green-50 border-green-200",children:s.jsxs(ae,{className:"pt-6",children:[s.jsx("h4",{className:"mb-2 font-semibold text-green-900",children:"ðŸ’¡ Pro Tip"}),s.jsx("p",{className:"text-sm text-green-800",children:"Buy in bulk to ensure you never run out of SMS credits. Unused units never expire and carry over to your next billing cycle."})]})}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx(J,{type:"button",variant:"outline",className:"flex-1",onClick:f,children:"Cancel"}),s.jsx(J,{type:"button",className:"flex-1",onClick:b,disabled:l.data.units<1,children:"Continue to Payment"})]})]}),e[16]=r.name,e[17]=c,e[18]=l,e[19]=f,e[20]=i,e[21]=S,e[22]=o):o=e[22];let _;e[23]!==c||e[24]!==l.data.units||e[25]!==l.processing||e[26]!==C||e[27]!==i||e[28]!==S?(_=i===2&&s.jsxs("div",{className:"space-y-6",children:[s.jsx(le,{className:"border-2 border-blue-500",children:s.jsxs(ae,{className:"pt-6",children:[s.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[s.jsx(Oe,{className:"h-5 w-5 text-blue-600"}),s.jsx("h3",{className:"text-lg font-bold",children:"Purchase Summary"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between border-b py-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"Extra SMS Units"}),s.jsxs("p",{className:"text-sm text-gray-500",children:[l.data.units," units @ â‚¦",c," each"]})]}),s.jsxs("p",{className:"font-bold",children:["â‚¦",S.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between rounded-lg bg-blue-50 px-4 py-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-lg font-bold",children:"Total Amount"}),s.jsxs("p",{className:"text-sm text-gray-600",children:[l.data.units," SMS units will be added"]})]}),s.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["â‚¦",S.toLocaleString()]})]})]})]})}),s.jsx(le,{className:"border-blue-200 bg-blue-50",children:s.jsx(ae,{className:"pt-6",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx($e,{className:"mt-0.5 h-5 w-5 flex-shrink-0 text-blue-600"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsx("p",{className:"font-semibold text-blue-900",children:"Important Information:"}),s.jsxs("ul",{className:"list-inside list-disc space-y-1 text-blue-800",children:[s.jsx("li",{children:"SMS units are credited immediately after payment"}),s.jsx("li",{children:"Units never expire and carry over indefinitely"}),s.jsx("li",{children:"Non-refundable once purchased"}),s.jsx("li",{children:"Can be used for all SMS campaigns and single SMS"})]})]})]})})}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx(J,{type:"button",variant:"outline",className:"flex-1",onClick:P,disabled:l.processing,children:"Back"}),s.jsx(J,{type:"button",className:"flex-1",onClick:C,disabled:l.processing,children:l.processing?"Processing...":`Pay â‚¦${S.toLocaleString()}`})]})]}),e[23]=c,e[24]=l.data.units,e[25]=l.processing,e[26]=C,e[27]=i,e[28]=S,e[29]=_):_=e[29];let k;e[30]!==d||e[31]!==o||e[32]!==_?(k=s.jsxs(Be,{className:"max-h-[90vh] max-w-2xl overflow-y-auto",children:[d,o,_]}),e[30]=d,e[31]=o,e[32]=_,e[33]=k):k=e[33];let w;return e[34]!==f||e[35]!==N||e[36]!==k?(w=s.jsx(Le,{open:N,onOpenChange:f,children:k}),e[34]=f,e[35]=N,e[36]=k,e[37]=w):w=e[37],w}function Ge(n){const e=pe.c(101),{open:N,onOpenChange:t,subscription:r}=n,[i,x]=de.useState(!1);let h;e[0]===Symbol.for("react.memo_cache_sentinel")?(h={},e[0]=h):h=e[0];const l=ve(h);if(!r)return null;const c=r.plan;let S,v,b,g,P,u,f,p,C,y,j,a,m,d,o,_,k,w,M;if(e[1]!==i||e[2]!==l||e[3]!==t||e[4]!==N||e[5]!==c.features||e[6]!==c.name||e[7]!==c.periodicity_type||e[8]!==r.expired_at){const G=xe(r.expired_at),I=Math.max(0,G.diff(xe(),"day"));let $;e[28]!==l||e[29]!==t?($=()=>{t(!1),x(!1),l.reset()},e[28]=l,e[29]=t,e[30]=$):$=e[30],b=$;let R;e[31]!==l||e[32]!==b?(R=()=>{l.post(Ce.cancel().url,{onSuccess:()=>{b()}})},e[31]=l,e[32]=b,e[33]=R):R=e[33],g=R;let A;e[34]!==c.name?(A=c.name.charAt(0).toUpperCase(),e[34]=c.name,e[35]=A):A=e[35];let F;if(e[36]!==c.name){let E;e[38]===Symbol.for("react.memo_cache_sentinel")?(E=/-/g,e[38]=E):E=e[38],F=c.name.slice(1).replace(E," "),e[36]=c.name,e[37]=F}else F=e[37];const ie=A+F;v=Le,y=N,j=b,S=Be,p="max-h-[90vh] max-w-2xl overflow-y-auto",e[39]===Symbol.for("react.memo_cache_sentinel")?(C=s.jsxs(Pe,{children:[s.jsxs(De,{className:"flex items-center gap-2 text-2xl font-semibold text-red-600",children:[s.jsx(_e,{className:"h-6 w-6"}),"Cancel Subscription"]}),s.jsx(ke,{children:"We're sorry to see you go. Please review the details below."})]}),e[39]=C):C=e[39],M="space-y-6";let O;e[40]===Symbol.for("react.memo_cache_sentinel")?(O=s.jsx(We,{className:"mt-1 h-6 w-6 flex-shrink-0 text-red-600"}),e[40]=O):O=e[40];let re;e[41]===Symbol.for("react.memo_cache_sentinel")?(re=s.jsx("h4",{className:"font-semibold text-red-900",children:"Before you cancel:"}),e[41]=re):re=e[41];const Z=I!==1?"s":"";let ee;e[42]!==I||e[43]!==Z?(ee=s.jsxs("li",{children:["â€¢ You have ",I," day",Z," of access remaining"]}),e[42]=I,e[43]=Z,e[44]=ee):ee=e[44];let z,H,Q;e[45]===Symbol.for("react.memo_cache_sentinel")?(z=s.jsx("li",{children:"â€¢ All features remain active until the end date"}),H=s.jsx("li",{children:"â€¢ Unused SMS units will be lost after expiration"}),Q=s.jsx("li",{children:"â€¢ No refunds for the current billing period"}),e[45]=z,e[46]=H,e[47]=Q):(z=e[45],H=e[46],Q=e[47]);const se=s.jsxs("ul",{className:"space-y-1 text-sm text-red-800",children:[s.jsxs("li",{children:["â€¢ Your ",ie," subscription will end on"," ",G.format("MMMM D, YYYY")]}),ee,z,H,Q]});e[48]!==se?(P=s.jsx(le,{className:"border-2 border-red-500 bg-red-50",children:s.jsx(ae,{className:"pt-6",children:s.jsxs("div",{className:"flex gap-3",children:[O,s.jsxs("div",{className:"space-y-2",children:[re,se]})]})})}),e[48]=se,e[49]=P):P=e[49];let W;e[50]===Symbol.for("react.memo_cache_sentinel")?(W=s.jsx("h4",{className:"mb-3 font-semibold text-gray-900",children:"What you'll lose access to:"}),e[50]=W):W=e[50];let te;e[51]!==c.features||e[52]!==c.periodicity_type?(te=c.features?.map((E,fe)=>s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[s.jsx(_e,{className:"h-4 w-4 flex-shrink-0 text-red-500"}),s.jsxs("span",{className:"capitalize",children:[E.name.replace(/-/g," "),E.charges&&E.name==="sms-units"?` (${E.charges} units/${c.periodicity_type?.toLowerCase()||"month"})`:E.charges&&` (${E.charges})`]})]},fe)),e[51]=c.features,e[52]=c.periodicity_type,e[53]=te):te=e[53],e[54]!==te?(u=s.jsx(le,{children:s.jsxs(ae,{className:"pt-6",children:[W,s.jsx("div",{className:"space-y-2",children:te})]})}),e[54]=te,e[55]=u):u=e[55];let ce;e[56]===Symbol.for("react.memo_cache_sentinel")?(ce=s.jsx("h4",{className:"mb-3 font-semibold text-blue-900",children:"ðŸ’¡ Consider these alternatives:"}),e[56]=ce):ce=e[56];let oe;e[57]===Symbol.for("react.memo_cache_sentinel")?(oe=s.jsxs("li",{children:["â€¢ ",s.jsx("strong",{children:"Downgrade to a lower plan"})," ","instead of canceling"]}),e[57]=oe):oe=e[57];let me;e[58]===Symbol.for("react.memo_cache_sentinel")?(me=s.jsxs("li",{children:["â€¢ ",s.jsx("strong",{children:"Pause your campaigns"})," and keep minimal usage"]}),e[58]=me):me=e[58],e[59]===Symbol.for("react.memo_cache_sentinel")?(f=s.jsx(le,{className:"border-blue-200 bg-blue-50",children:s.jsxs(ae,{className:"pt-6",children:[ce,s.jsxs("ul",{className:"space-y-2 text-sm text-blue-800",children:[oe,me,s.jsxs("li",{children:["â€¢ ",s.jsx("strong",{children:"Contact support"})," if you're having issues"]})]})]})}),e[59]=f):f=e[59],k="flex items-start gap-3 rounded-lg border-2 border-gray-200 bg-white p-4",e[60]!==i?(w=s.jsx(He,{id:"confirm-cancel",checked:i,onCheckedChange:x,className:"mt-1"}),e[60]=i,e[61]=w):w=e[61],m="confirm-cancel",d="cursor-pointer text-sm leading-relaxed font-medium select-none",o="I understand that my subscription will end on",_=" ",a=G.format("MMMM D, YYYY"),e[1]=i,e[2]=l,e[3]=t,e[4]=N,e[5]=c.features,e[6]=c.name,e[7]=c.periodicity_type,e[8]=r.expired_at,e[9]=S,e[10]=v,e[11]=b,e[12]=g,e[13]=P,e[14]=u,e[15]=f,e[16]=p,e[17]=C,e[18]=y,e[19]=j,e[20]=a,e[21]=m,e[22]=d,e[23]=o,e[24]=_,e[25]=k,e[26]=w,e[27]=M}else S=e[9],v=e[10],b=e[11],g=e[12],P=e[13],u=e[14],f=e[15],p=e[16],C=e[17],y=e[18],j=e[19],a=e[20],m=e[21],d=e[22],o=e[23],_=e[24],k=e[25],w=e[26],M=e[27];let B;e[62]!==a?(B=s.jsx("strong",{children:a}),e[62]=a,e[63]=B):B=e[63];let U;e[64]!==B||e[65]!==m||e[66]!==d||e[67]!==o||e[68]!==_?(U=s.jsxs("label",{htmlFor:m,className:d,children:[o,_,B," ","and I will lose access to all premium features after this date. This action cannot be undone."]}),e[64]=B,e[65]=m,e[66]=d,e[67]=o,e[68]=_,e[69]=U):U=e[69];let ne;e[70]!==U||e[71]!==k||e[72]!==w?(ne=s.jsxs("div",{className:k,children:[w,U]}),e[70]=U,e[71]=k,e[72]=w,e[73]=ne):ne=e[73];let Y;e[74]!==l.processing||e[75]!==b?(Y=s.jsx(J,{type:"button",variant:"outline",className:"flex-1",onClick:b,disabled:l.processing,children:"Keep My Subscription"}),e[74]=l.processing,e[75]=b,e[76]=Y):Y=e[76];const K=!i||l.processing,X=l.processing?"Canceling...":"Yes, Cancel Subscription";let D;e[77]!==g||e[78]!==K||e[79]!==X?(D=s.jsx(J,{type:"button",variant:"destructive",className:"flex-1",onClick:g,disabled:K,children:X}),e[77]=g,e[78]=K,e[79]=X,e[80]=D):D=e[80];let L;e[81]!==Y||e[82]!==D?(L=s.jsxs("div",{className:"flex gap-3 pt-4",children:[Y,D]}),e[81]=Y,e[82]=D,e[83]=L):L=e[83];let T;e[84]!==P||e[85]!==u||e[86]!==f||e[87]!==ne||e[88]!==L||e[89]!==M?(T=s.jsxs("div",{className:M,children:[P,u,f,ne,L]}),e[84]=P,e[85]=u,e[86]=f,e[87]=ne,e[88]=L,e[89]=M,e[90]=T):T=e[90];let q;e[91]!==S||e[92]!==p||e[93]!==C||e[94]!==T?(q=s.jsxs(S,{className:p,children:[C,T]}),e[91]=S,e[92]=p,e[93]=C,e[94]=T,e[95]=q):q=e[95];let V;return e[96]!==v||e[97]!==y||e[98]!==j||e[99]!==q?(V=s.jsx(v,{open:y,onOpenChange:j,children:q}),e[96]=v,e[97]=y,e[98]=j,e[99]=q,e[100]=V):V=e[100],V}function Je(n){const e=pe.c(5),{usage:N}=n;let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=s.jsxs(we,{children:[s.jsx(Me,{children:"Feature Usage"}),s.jsx(Te,{children:"Current billing period consumption"})]}),e[0]=t):t=e[0];let r;e[1]!==N?(r=N.map(Qe),e[1]=N,e[2]=r):r=e[2];let i;return e[3]!==r?(i=s.jsxs(le,{children:[t,s.jsx(ae,{className:"space-y-4",children:r})]}),e[3]=r,e[4]=i):i=e[4],i}function Qe(n,e){return s.jsxs("div",{children:[s.jsxs("div",{className:"mb-2 flex justify-between",children:[s.jsx("span",{className:"font-medium capitalize",children:n.name.replace(/-/g," ")}),s.jsxs("span",{className:"text-sm text-gray-600",children:[n.consumed.toLocaleString()," /"," ",n.total.toLocaleString()]})]}),s.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[n.remaining.toLocaleString()," remaining (",n.percentage,"% used)"]})]},e)}function Ve(n){const e=pe.c(29),{plans:N,currentSubscription:t,billingCycle:r,onBillingCycleChange:i,onSelectPlan:x}=n,h=ss;let l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l=a=>{const m=a.features.find(es),d=m?m.charges:0,o=a.name.replace("-yearly","").replace("-monthly",""),_={free:"Individuals, Micro Businesses",pro:"SMEs, Marketers",business:"High-volume Businesses",enterprise:"Agencies, Enterprises"};return{title:h(a.name),subtitle:_[o]||"",price:a.price,sms:d,popular:o==="business"}},e[0]=l):l=e[0];const c=l;let S;e[1]===Symbol.for("react.memo_cache_sentinel")?(S=s.jsx("h2",{className:"text-2xl font-bold",children:"Available Plans"}),e[1]=S):S=e[1];const v=r==="monthly"?"default":"ghost";let b;e[2]!==i?(b=()=>i("monthly"),e[2]=i,e[3]=b):b=e[3];let g;e[4]!==v||e[5]!==b?(g=s.jsx(J,{variant:v,onClick:b,children:"Monthly"}),e[4]=v,e[5]=b,e[6]=g):g=e[6];const P=r==="yearly"?"default":"ghost";let u;e[7]!==i?(u=()=>i("yearly"),e[7]=i,e[8]=u):u=e[8];let f;e[9]!==P||e[10]!==u?(f=s.jsx(J,{variant:P,onClick:u,children:"Yearly(-15%)"}),e[9]=P,e[10]=u,e[11]=f):f=e[11];let p;e[12]!==g||e[13]!==f?(p=s.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[S,s.jsxs("div",{className:"flex gap-2 rounded-lg border bg-gray-50 p-1",children:[g,f]})]}),e[12]=g,e[13]=f,e[14]=p):p=e[14];let C;if(e[15]!==r||e[16]!==t?.plan||e[17]!==x||e[18]!==N){let a;e[20]!==r||e[21]!==t?.plan||e[22]!==x?(a=m=>{const d=c(m),o=t?.plan.name===m.name;return s.jsxs(le,{className:`relative transition hover:shadow-md ${d.popular?"border-blue-500 shadow-lg":""} ${o?"border-green-500":""}`,children:[d.popular&&!o&&s.jsx(ue,{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-blue-500 text-white",children:"Most Popular"}),o&&s.jsx(ue,{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-green-500 text-white",children:"Current Plan"}),s.jsxs(we,{children:[s.jsx(Me,{children:d.title}),s.jsx(Te,{children:d.subtitle}),s.jsxs("div",{className:"mt-4",children:[s.jsxs("span",{className:"text-3xl font-bold",children:["â‚¦",d.price.toLocaleString()]}),s.jsxs("span",{className:"text-gray-500",children:["/",r]})]}),s.jsx("div",{children:s.jsxs("span",{className:"font-medium text-primary",children:["Include FREE â‚¦",d.sms," SMS"]})})]}),s.jsxs(ae,{children:[s.jsxs("ul",{className:"mb-6 space-y-3",children:[m.features.map(Ze),s.jsxs("li",{className:"flex items-start gap-2 font-medium text-primary",children:[s.jsx(he,{className:"mt-0.5 h-5 w-5 flex-shrink-0 text-green-500"}),s.jsxs("span",{className:"capitalize",children:["â‚¦",m.extra_sms_price,"/Extra SMS Units"]})]})]}),s.jsx(J,{className:"w-full",variant:o?"outline":d.popular?"default":"outline",onClick:()=>x(m),disabled:o,children:o?"Current Plan":"Subscribe"})]})]},m.id)},e[20]=r,e[21]=t?.plan,e[22]=x,e[23]=a):a=e[23],C=N.map(a),e[15]=r,e[16]=t?.plan,e[17]=x,e[18]=N,e[19]=C}else C=e[19];let y;e[24]!==C?(y=s.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:C}),e[24]=C,e[25]=y):y=e[25];let j;return e[26]!==y||e[27]!==p?(j=s.jsxs("div",{children:[p,y]}),e[26]=y,e[27]=p,e[28]=j):j=e[28],j}function Ze(n,e){return s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(he,{className:"mt-0.5 h-5 w-5 flex-shrink-0 text-green-500"}),s.jsxs("span",{className:"capitalize",children:[n.name.replace("-"," "),n.charges?` (${n.charges.toLocaleString()})`:""]})]},e)}function es(n){return n.name==="sms-units"}function ss(n){const e=n.replace("-yearly","").replace("-monthly","");return e.charAt(0).toUpperCase()+e.slice(1)}function ts(n){const e=pe.c(108),{open:N,onOpenChange:t,subscription:r}=n;let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i={},e[0]=i):i=e[0];const x=ve(i);if(!r)return null;const h=r.plan;let l,c,S,v,b,g,P,u,f,p,C,y,j,a,m,d,o,_;if(e[1]!==x||e[2]!==t||e[3]!==N||e[4]!==h.features||e[5]!==h.name||e[6]!==h.periodicity_type){const Y=h.features?.find(ns)?.pivot.charges||0,K=is(h.name);let X;e[25]!==h.periodicity_type?(X=h.periodicity_type?.toLowerCase()||"month",e[25]=h.periodicity_type,e[26]=X):X=e[26];const D=X;let L;e[27]!==x||e[28]!==t?(L=()=>{t(!1),x.reset()},e[27]=x,e[28]=t,e[29]=L):L=e[29];const T=L;let q;e[30]!==x||e[31]!==T?(q=()=>{x.post(Ce.renew().url,{onSuccess:()=>{T()}})},e[30]=x,e[31]=T,e[32]=q):q=e[32];const V=q;let G;e[33]!==h.name?(G=h.name.charAt(0).toUpperCase(),e[33]=h.name,e[34]=G):G=e[34];let I;if(e[35]!==h.name){let ye;e[37]===Symbol.for("react.memo_cache_sentinel")?(ye=/-/g,e[37]=ye):ye=e[37],I=h.name.slice(1).replace(ye," "),e[35]=h.name,e[36]=I}else I=e[36];const $=G+I;S=Le,f=N,p=T,c=Be,P="max-h-[90vh] max-w-2xl overflow-y-auto",e[38]===Symbol.for("react.memo_cache_sentinel")?(u=s.jsxs(Pe,{children:[s.jsxs(De,{className:"flex items-center gap-2 text-2xl font-semibold",children:[s.jsx(Re,{className:"h-6 w-6 text-blue-600"}),"Renew Subscription"]}),s.jsx(ke,{children:"Reactivate your subscription and restore full access"})]}),e[38]=u):u=e[38],_="space-y-6";let R;e[39]!==$?(R=s.jsxs("h3",{className:"text-xl font-bold",children:[$," Plan"]}),e[39]=$,e[40]=R):R=e[40];let A;e[41]!==D?(A=s.jsxs("p",{className:"text-sm text-gray-500 capitalize",children:[D,"ly subscription"]}),e[41]=D,e[42]=A):A=e[42];let F;e[43]!==R||e[44]!==A?(F=s.jsxs("div",{children:[R,A]}),e[43]=R,e[44]=A,e[45]=F):F=e[45];const ie=s.jsxs("div",{className:"mb-4 flex items-start justify-between",children:[F,s.jsxs(ue,{className:"px-3 py-1 text-lg",children:["â‚¦",K.toLocaleString()]})]});let O;e[46]===Symbol.for("react.memo_cache_sentinel")?(O=s.jsx(he,{className:"h-4 w-4 text-green-500"}),e[46]=O):O=e[46];const re=Y.toLocaleString();let Z;e[47]!==D?(Z=D.toLowerCase(),e[47]=D,e[48]=Z):Z=e[48];const ee=s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[O,s.jsxs("span",{children:[re," SMS units/",Z]})]});let z;e[49]!==h.features?(z=h.features?.filter(as).map(ls),e[49]=h.features,e[50]=z):z=e[50];let H;e[51]!==ee||e[52]!==z?(H=s.jsxs("div",{className:"space-y-2",children:[ee,z]}),e[51]=ee,e[52]=z,e[53]=H):H=e[53],e[54]!==ie||e[55]!==H?(v=s.jsx(le,{className:"border-2 border-blue-500",children:s.jsxs(ae,{className:"pt-6",children:[ie,H]})}),e[54]=ie,e[55]=H,e[56]=v):v=e[56];let Q;e[57]===Symbol.for("react.memo_cache_sentinel")?(Q=s.jsx("h4",{className:"mb-3 font-semibold text-green-900",children:"âœ¨ What happens when you renew:"}),e[57]=Q):Q=e[57];let se;e[58]===Symbol.for("react.memo_cache_sentinel")?(se=s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(he,{className:"mt-0.5 h-4 w-4 flex-shrink-0"}),s.jsx("span",{children:"Immediate access restoration to all features"})]}),e[58]=se):se=e[58];let W;e[59]===Symbol.for("react.memo_cache_sentinel")?(W=s.jsx(he,{className:"mt-0.5 h-4 w-4 flex-shrink-0"}),e[59]=W):W=e[59];const te=Y.toLocaleString();let ce;e[60]!==te?(ce=s.jsxs("li",{className:"flex items-start gap-2",children:[W,s.jsxs("span",{children:["Fresh allocation of"," ",te," SMS units"]})]}),e[60]=te,e[61]=ce):ce=e[61];let oe;e[62]===Symbol.for("react.memo_cache_sentinel")?(oe=s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(he,{className:"mt-0.5 h-4 w-4 flex-shrink-0"}),s.jsx("span",{children:"Any existing SMS balance is preserved and added on top"})]}),e[62]=oe):oe=e[62];let me;e[63]===Symbol.for("react.memo_cache_sentinel")?(me=s.jsx(he,{className:"mt-0.5 h-4 w-4 flex-shrink-0"}),e[63]=me):me=e[63];let E;e[64]!==D?(E=s.jsxs("li",{className:"flex items-start gap-2",children:[me,s.jsxs("span",{children:["New ",D,"ly billing cycle starts immediately"]})]}),e[64]=D,e[65]=E):E=e[65],e[66]!==ce||e[67]!==E?(b=s.jsx(le,{className:"border-green-200 bg-green-50",children:s.jsxs(ae,{className:"pt-6",children:[Q,s.jsxs("ul",{className:"space-y-2 text-sm text-green-800",children:[se,ce,oe,E]})]})}),e[66]=ce,e[67]=E,e[68]=b):b=e[68];let fe;e[69]===Symbol.for("react.memo_cache_sentinel")?(fe=s.jsx($e,{className:"mt-0.5 h-5 w-5 flex-shrink-0 text-blue-600"}),e[69]=fe):fe=e[69];let je;e[70]===Symbol.for("react.memo_cache_sentinel")?(je=s.jsx("p",{className:"mb-2 font-semibold text-blue-900",children:"Payment Details:"}),e[70]=je):je=e[70];let be;e[71]!==D||e[72]!==$?(be=s.jsxs("span",{children:[$," Plan (",D,"ly)"]}),e[71]=D,e[72]=$,e[73]=be):be=e[73];const Ne=s.jsxs("div",{className:"flex justify-between",children:[be,s.jsxs("span",{className:"font-medium",children:["â‚¦",K.toLocaleString()]})]});let ge;e[74]===Symbol.for("react.memo_cache_sentinel")?(ge=s.jsx("span",{children:"Total Due"}),e[74]=ge):ge=e[74];const Se=s.jsxs("div",{className:"flex justify-between border-t border-blue-200 pt-2 text-base font-bold",children:[ge,s.jsxs("span",{className:"text-blue-600",children:["â‚¦",K.toLocaleString()]})]});e[75]!==Ne||e[76]!==Se?(g=s.jsx(le,{className:"border-blue-200 bg-blue-50",children:s.jsx(ae,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start gap-3",children:[fe,s.jsxs("div",{className:"flex-1",children:[je,s.jsxs("div",{className:"space-y-2 text-sm text-blue-800",children:[Ne,Se]})]})]})})}),e[75]=Ne,e[76]=Se,e[77]=g):g=e[77],d="flex gap-3 pt-4",e[78]!==x.processing||e[79]!==T?(o=s.jsx(J,{type:"button",variant:"outline",className:"flex-1",onClick:T,disabled:x.processing,children:"Cancel"}),e[78]=x.processing,e[79]=T,e[80]=o):o=e[80],l=J,C="button",y="flex-1",j=V,a=x.processing,m=x.processing?"Processing...":`Renew for â‚¦${K.toLocaleString()}`,e[1]=x,e[2]=t,e[3]=N,e[4]=h.features,e[5]=h.name,e[6]=h.periodicity_type,e[7]=l,e[8]=c,e[9]=S,e[10]=v,e[11]=b,e[12]=g,e[13]=P,e[14]=u,e[15]=f,e[16]=p,e[17]=C,e[18]=y,e[19]=j,e[20]=a,e[21]=m,e[22]=d,e[23]=o,e[24]=_}else l=e[7],c=e[8],S=e[9],v=e[10],b=e[11],g=e[12],P=e[13],u=e[14],f=e[15],p=e[16],C=e[17],y=e[18],j=e[19],a=e[20],m=e[21],d=e[22],o=e[23],_=e[24];let k;e[81]!==l||e[82]!==C||e[83]!==y||e[84]!==j||e[85]!==a||e[86]!==m?(k=s.jsx(l,{type:C,className:y,onClick:j,disabled:a,children:m}),e[81]=l,e[82]=C,e[83]=y,e[84]=j,e[85]=a,e[86]=m,e[87]=k):k=e[87];let w;e[88]!==k||e[89]!==d||e[90]!==o?(w=s.jsxs("div",{className:d,children:[o,k]}),e[88]=k,e[89]=d,e[90]=o,e[91]=w):w=e[91];let M;e[92]!==v||e[93]!==b||e[94]!==g||e[95]!==w||e[96]!==_?(M=s.jsxs("div",{className:_,children:[v,b,g,w]}),e[92]=v,e[93]=b,e[94]=g,e[95]=w,e[96]=_,e[97]=M):M=e[97];let B;e[98]!==c||e[99]!==P||e[100]!==u||e[101]!==M?(B=s.jsxs(c,{className:P,children:[u,M]}),e[98]=c,e[99]=P,e[100]=u,e[101]=M,e[102]=B):B=e[102];let U;return e[103]!==S||e[104]!==f||e[105]!==p||e[106]!==B?(U=s.jsx(S,{open:f,onOpenChange:p,children:B}),e[103]=S,e[104]=f,e[105]=p,e[106]=B,e[107]=U):U=e[107],U}function ls(n,e){return s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(he,{className:"h-4 w-4 text-green-500"}),s.jsxs("span",{className:"capitalize",children:[n.name.replace(/-/g," "),n.charges&&` (${n.charges})`]})]},e)}function as(n){return n.name!=="sms-units"}function ns(n){return n.name==="sms-units"}function is(n){return{free:0,pro:4998.98,"pro-yearly":50989.596,business:9997.99,"business-yearly":101979.498,enterprise:19995.99,"enterprise-yearly":203959.098}[n]||0}function rs(n){const e=pe.c(6),{transactions:N}=n;let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=s.jsx(we,{children:s.jsxs(Me,{className:"flex items-center gap-2",children:[s.jsx(Ke,{className:"h-5 w-5"})," Recent Transactions"]})}),e[0]=t):t=e[0];let r;e[1]===Symbol.for("react.memo_cache_sentinel")?(r=s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"py-3 text-left",children:"Date"}),s.jsx("th",{className:"py-3 text-left",children:"Description"}),s.jsx("th",{className:"py-3 text-left",children:"Amount"}),s.jsx("th",{className:"py-3 text-left",children:"Status"}),s.jsx("th",{className:"py-3 text-left",children:"Method"})]})}),e[1]=r):r=e[1];let i;e[2]!==N?(i=N?.length>0?N.map(cs):s.jsx("tr",{children:s.jsx("td",{colSpan:"5",className:"py-8 text-center text-gray-500",children:"No transactions yet. Subscribe to a plan to start a transaction."})}),e[2]=N,e[3]=i):i=e[3];let x;return e[4]!==i?(x=s.jsxs(le,{children:[t,s.jsx(ae,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[r,s.jsx("tbody",{children:i})]})})})]}),e[4]=i,e[5]=x):x=e[5],x}function cs(n){return s.jsxs("tr",{className:"border-b",children:[s.jsx("td",{className:"py-3",children:new Date(n.created_at).toLocaleDateString()}),s.jsx("td",{className:"py-3",children:n.description}),s.jsxs("td",{className:"py-3 font-medium",children:["â‚¦",n.amount.toLocaleString()]}),s.jsx("td",{className:"py-3",children:s.jsx(ue,{variant:n.status==="completed"?"default":n.status==="failed"?"destructive":"secondary",children:n.status})}),s.jsx("td",{className:"py-3 capitalize",children:n.payment_method.replace("_"," ")})]},n.id)}function As(n){const e=pe.c(82),{plans:N,currentSubscription:t,featureUsage:r,smsBalance:i,transactions:x}=n,[h,l]=de.useState(null),[c,S]=de.useState(!1),[v,b]=de.useState(!1),[g,P]=de.useState(!1),[u,f]=de.useState(!1),[p,C]=de.useState("monthly");let y,j,a,m,d,o,_,k;if(e[0]!==p||e[1]!==t||e[2]!==N){a=t?{...t,is_active:t.expired_at?xe().isBefore(xe(t.expired_at)):!0,days_remaining:t.expired_at?Math.max(0,xe(t.expired_at).diff(xe(),"day")):"forever"}:null,console.log(a);let Z;e[11]===Symbol.for("react.memo_cache_sentinel")?(Z=W=>{l(W),S(!0)},e[11]=Z):Z=e[11],_=Z;let ee;e[12]===Symbol.for("react.memo_cache_sentinel")?(ee=()=>{b(!0)},e[12]=ee):ee=e[12],m=ee;let z;e[13]===Symbol.for("react.memo_cache_sentinel")?(z=()=>{P(!0)},e[13]=z):z=e[13],o=z;let H;e[14]===Symbol.for("react.memo_cache_sentinel")?(H=()=>{f(!0)},e[14]=H):H=e[14],d=H;let Q;e[15]===Symbol.for("react.memo_cache_sentinel")?(Q=[{title:"Dashboard",href:"/dashboard"},{title:"Billing",href:"/billing"}],e[15]=Q):Q=e[15],y=Q;let se;if(e[16]!==p||e[17]!==N){let W;e[19]!==p?(W=te=>p==="yearly"?te.is_yearly:!te.is_yearly,e[19]=p,e[20]=W):W=e[20],se=N.filter(W),e[16]=p,e[17]=N,e[18]=se}else se=e[18];j=se,k=a&&(a.expired_at&&xe().isAfter(xe(a.expired_at))||a.days_remaining<=7||a.canceled_at||a.suppressed_at),e[0]=p,e[1]=t,e[2]=N,e[3]=y,e[4]=j,e[5]=a,e[6]=m,e[7]=d,e[8]=o,e[9]=_,e[10]=k}else y=e[3],j=e[4],a=e[5],m=e[6],d=e[7],o=e[8],_=e[9],k=e[10];const w=k,M=a&&a.is_active,B=a&&a.plan.name!=="free"&&a.is_active&&!a.canceled_at&&!a.suppressed_at;let U;e[21]===Symbol.for("react.memo_cache_sentinel")?(U=s.jsx(Ae,{title:"Billing & Subscription"}),e[21]=U):U=e[21];let ne;e[22]===Symbol.for("react.memo_cache_sentinel")?(ne=s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Billing & Subscription"}),s.jsx("p",{className:"mt-1 text-gray-500",children:"Manage your subscription, SMS units, and payments"})]}),e[22]=ne):ne=e[22];let Y;e[23]!==M||e[24]!==m?(Y=M&&s.jsxs(J,{onClick:m,variant:"outline",className:"gap-2",children:[s.jsx(Xe,{className:"h-4 w-4"}),"Buy SMS Units"]}),e[23]=M,e[24]=m,e[25]=Y):Y=e[25];let K;e[26]!==w||e[27]!==o?(K=w&&s.jsxs(J,{onClick:o,variant:"default",className:"gap-2 hidden md:block",children:[s.jsx(Re,{className:"h-4 w-4"}),"Renew Subscription"]}),e[26]=w,e[27]=o,e[28]=K):K=e[28];let X;e[29]!==B||e[30]!==d?(X=B&&s.jsxs(J,{onClick:d,variant:"destructive",className:"gap-2",children:[s.jsx(_e,{className:"h-4 w-4"}),"Cancel Subscription"]}),e[29]=B,e[30]=d,e[31]=X):X=e[31];let D;e[32]!==Y||e[33]!==K||e[34]!==X?(D=s.jsxs("div",{className:"flex items-start justify-between",children:[ne,s.jsxs("div",{className:"flex gap-3",children:[Y,K,X]})]}),e[32]=Y,e[33]=K,e[34]=X,e[35]=D):D=e[35];let L;e[36]!==a||e[37]!==i?(L=s.jsx(Ue,{normalizedSubscription:a,smsBalance:i}),e[36]=a,e[37]=i,e[38]=L):L=e[38];const T=M?m:null,q=w?o:null;let V;e[39]!==a||e[40]!==i||e[41]!==q||e[42]!==T?(V=s.jsx(Ye,{normalizedSubscription:a,smsBalance:i,onBuyExtraSms:T,onRenew:q}),e[39]=a,e[40]=i,e[41]=q,e[42]=T,e[43]=V):V=e[43];let G;e[44]!==r?(G=r&&r.length>0&&s.jsx(Je,{usage:r}),e[44]=r,e[45]=G):G=e[45];let I;e[46]!==p||e[47]!==t||e[48]!==j||e[49]!==_?(I=s.jsx(Ve,{plans:j,currentSubscription:t,billingCycle:p,onBillingCycleChange:C,onSelectPlan:_}),e[46]=p,e[47]=t,e[48]=j,e[49]=_,e[50]=I):I=e[50];let $;e[51]!==x?($=x&&s.jsx(rs,{transactions:x}),e[51]=x,e[52]=$):$=e[52];let R;e[53]!==V||e[54]!==G||e[55]!==I||e[56]!==$||e[57]!==D||e[58]!==L?(R=s.jsxs("div",{className:"space-y-8 p-6",children:[D,L,V,G,I,$]}),e[53]=V,e[54]=G,e[55]=I,e[56]=$,e[57]=D,e[58]=L,e[59]=R):R=e[59];let A;e[60]!==h||e[61]!==c?(A=s.jsx(ze,{open:c,onOpenChange:S,plan:h}),e[60]=h,e[61]=c,e[62]=A):A=e[62];let F;e[63]!==M||e[64]!==t?.plan||e[65]!==v?(F=M&&s.jsx(qe,{open:v,onOpenChange:b,currentPlan:t?.plan}),e[63]=M,e[64]=t?.plan,e[65]=v,e[66]=F):F=e[66];let ie;e[67]!==w||e[68]!==t||e[69]!==g?(ie=w&&s.jsx(ts,{open:g,onOpenChange:P,subscription:t}),e[67]=w,e[68]=t,e[69]=g,e[70]=ie):ie=e[70];let O;e[71]!==B||e[72]!==t||e[73]!==u?(O=B&&s.jsx(Ge,{open:u,onOpenChange:f,subscription:t}),e[71]=B,e[72]=t,e[73]=u,e[74]=O):O=e[74];let re;return e[75]!==y||e[76]!==R||e[77]!==A||e[78]!==F||e[79]!==ie||e[80]!==O?(re=s.jsxs(Ee,{breadcrumbs:y,children:[U,R,A,F,ie,O]}),e[75]=y,e[76]=R,e[77]=A,e[78]=F,e[79]=ie,e[80]=O,e[81]=re):re=e[81],re}export{As as default};
