import{c as pe,r as de,u as ve,j as s,H as Ae}from"./app-DkuaKs7R.js";import{B as J}from"./button-DEWTOza6.js";import{K as Ce,A as Ue}from"./app-layout-DjcEY8s3.js";import{d as xe,A as Ee,S as Ie}from"./subscription-stat-DwwwY9vz.js";import{B as ue}from"./badge-kWQkrcyp.js";import{c as le,d as ae,C as we,a as Me,b as Re}from"./card-BJw5CvBs.js";import{b as De,e as ke,a as Pe,c as Be,d as Le}from"./dialog-Cd-cGV3i.js";import{I as Oe}from"./input-DZnmHXM7.js";import{L as Ye}from"./label-CDV8N_bE.js";import{a as Fe,S as ze}from"./subscribe-C2sw2Jgw.js";import{C as Te,R as $e}from"./refresh-cw-CToqruey.js";import{C as He}from"./checkbox-B7HjESRx.js";import{X as _e}from"./x-GpPVQP8J.js";import{T as We}from"./triangle-alert-DQlmYtqq.js";import{C as he}from"./check-CJ-RwoAT.js";import{T as Ke}from"./trending-up-BKTVFsY9.js";import{P as Xe}from"./plus-BK0Er8qt.js";/* empty css            */import"./utils-DFaayVYX.js";import"./index-DKUWucUl.js";import"./index-BX6ecx82.js";import"./index-DSWKGzIo.js";import"./send-Dlj8qGrF.js";import"./shield-check-BuNJNOL8.js";import"./users-YqeB5lb8.js";import"./zap-C2k3_e6W.js";import"./index-BY0riNnH.js";function qe(n){const e=pe.c(38),{open:S,onOpenChange:t,currentPlan:c}=n,[i,h]=de.useState(1);let p;e[0]===Symbol.for("react.memo_cache_sentinel")?(p={units:1e3},e[0]=p):p=e[0];const l=ve(p);if(!c)return null;const r=c.extra_sms_price||5,_=l.data.units*r;let D;e[1]===Symbol.for("react.memo_cache_sentinel")?(D=()=>h(2),e[1]=D):D=e[1];const w=D;let v;e[2]===Symbol.for("react.memo_cache_sentinel")?(v=()=>h(1),e[2]=v):v=e[2];const P=v;let C;e[3]!==l||e[4]!==t?(C=()=>{t(!1),h(1),l.reset()},e[3]=l,e[4]=t,e[5]=C):C=e[5];const u=C;let f;e[6]!==l||e[7]!==u?(f=()=>{l.post(Ce.extraUnits().url,{onSuccess:()=>{u()}})},e[6]=l,e[7]=u,e[8]=f):f=e[8];const B=f,N=i===1?"Buy Extra SMS Units":"Review & Confirm";let g;e[9]!==N?(g=s.jsx(De,{className:"text-2xl font-semibold",children:N}),e[9]=N,e[10]=g):g=e[10];const a=i===1?"Purchase additional SMS units for your account":"Review your purchase before completing payment";let j;e[11]!==a?(j=s.jsx(ke,{children:a}),e[11]=a,e[12]=j):j=e[12];let y;e[13]!==g||e[14]!==j?(y=s.jsxs(Pe,{children:[g,j]}),e[13]=g,e[14]=j,e[15]=y):y=e[15];let b;e[16]!==c.name||e[17]!==r||e[18]!==l||e[19]!==u||e[20]!==i||e[21]!==_?(b=i===1&&s.jsxs("div",{className:"space-y-6",children:[s.jsx(le,{className:"border-2 border-blue-500",children:s.jsxs(ae,{className:"pt-6",children:[s.jsxs("div",{className:"mb-4 flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold capitalize",children:c.name.replace(/-/g," ")}),s.jsx("p",{className:"text-sm text-gray-500",children:"Current Plan"})]}),s.jsxs(ue,{className:"px-3 py-1",children:["â‚¦",r,"/SMS"]})]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Extra SMS units are priced at â‚¦",r," per unit for your plan"]})]})}),s.jsxs("div",{children:[s.jsx(Ye,{htmlFor:"units",className:"text-base font-semibold",children:"How many SMS units do you need?"}),s.jsx("p",{className:"mb-3 text-sm text-gray-500",children:"Choose the number of extra SMS units to purchase"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(Oe,{id:"units",type:"number",min:"1",step:"10",placeholder:"100",value:l.data.units,onChange:m=>l.setData("units",parseInt(m.target.value)||0),className:"text-lg"}),s.jsx("div",{className:"flex gap-2",children:[100,500,1e3].map(m=>s.jsx(J,{type:"button",variant:"outline",onClick:()=>l.setData("units",m),children:m},m))})]}),l.data.units>0&&s.jsxs("div",{className:"mt-4 space-y-2",children:[s.jsxs("p",{className:"text-sm text-green-600",children:["âœ“ Purchasing ",l.data.units," SMS units"]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Total Cost: â‚¦",_.toLocaleString()]})]})]}),s.jsx(le,{className:"bg-green-50 border-green-200",children:s.jsxs(ae,{className:"pt-6",children:[s.jsx("h4",{className:"mb-2 font-semibold text-green-900",children:"ðŸ’¡ Pro Tip"}),s.jsx("p",{className:"text-sm text-green-800",children:"Buy in bulk to ensure you never run out of SMS credits. Unused units never expire and carry over to your next billing cycle."})]})}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx(J,{type:"button",variant:"outline",className:"flex-1",onClick:u,children:"Cancel"}),s.jsx(J,{type:"button",className:"flex-1",onClick:w,disabled:l.data.units<1,children:"Continue to Payment"})]})]}),e[16]=c.name,e[17]=r,e[18]=l,e[19]=u,e[20]=i,e[21]=_,e[22]=b):b=e[22];let d;e[23]!==r||e[24]!==l.data.units||e[25]!==l.processing||e[26]!==B||e[27]!==i||e[28]!==_?(d=i===2&&s.jsxs("div",{className:"space-y-6",children:[s.jsx(le,{className:"border-2 border-blue-500",children:s.jsxs(ae,{className:"pt-6",children:[s.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[s.jsx(Fe,{className:"h-5 w-5 text-blue-600"}),s.jsx("h3",{className:"text-lg font-bold",children:"Purchase Summary"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between border-b py-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"Extra SMS Units"}),s.jsxs("p",{className:"text-sm text-gray-500",children:[l.data.units," units @ â‚¦",r," each"]})]}),s.jsxs("p",{className:"font-bold",children:["â‚¦",_.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between rounded-lg bg-blue-50 px-4 py-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-lg font-bold",children:"Total Amount"}),s.jsxs("p",{className:"text-sm text-gray-600",children:[l.data.units," SMS units will be added"]})]}),s.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["â‚¦",_.toLocaleString()]})]})]})]})}),s.jsx(le,{className:"border-blue-200 bg-blue-50",children:s.jsx(ae,{className:"pt-6",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx(Te,{className:"mt-0.5 h-5 w-5 flex-shrink-0 text-blue-600"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsx("p",{className:"font-semibold text-blue-900",children:"Important Information:"}),s.jsxs("ul",{className:"list-inside list-disc space-y-1 text-blue-800",children:[s.jsx("li",{children:"SMS units are credited immediately after payment"}),s.jsx("li",{children:"Units never expire and carry over indefinitely"}),s.jsx("li",{children:"Non-refundable once purchased"}),s.jsx("li",{children:"Can be used for all SMS campaigns and single SMS"})]})]})]})})}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx(J,{type:"button",variant:"outline",className:"flex-1",onClick:P,disabled:l.processing,children:"Back"}),s.jsx(J,{type:"button",className:"flex-1",onClick:B,disabled:l.processing,children:l.processing?"Processing...":`Pay â‚¦${_.toLocaleString()}`})]})]}),e[23]=r,e[24]=l.data.units,e[25]=l.processing,e[26]=B,e[27]=i,e[28]=_,e[29]=d):d=e[29];let x;e[30]!==y||e[31]!==b||e[32]!==d?(x=s.jsxs(Be,{className:"max-h-[90vh] max-w-2xl overflow-y-auto",children:[y,b,d]}),e[30]=y,e[31]=b,e[32]=d,e[33]=x):x=e[33];let o;return e[34]!==u||e[35]!==S||e[36]!==x?(o=s.jsx(Le,{open:S,onOpenChange:u,children:x}),e[34]=u,e[35]=S,e[36]=x,e[37]=o):o=e[37],o}function Ge(n){const e=pe.c(101),{open:S,onOpenChange:t,subscription:c}=n,[i,h]=de.useState(!1);let p;e[0]===Symbol.for("react.memo_cache_sentinel")?(p={},e[0]=p):p=e[0];const l=ve(p);if(!c)return null;const r=c.plan;let _,D,w,v,P,C,u,f,B,N,g,a,j,y,b,d,x,o,m;if(e[1]!==i||e[2]!==l||e[3]!==t||e[4]!==S||e[5]!==r.features||e[6]!==r.name||e[7]!==r.periodicity_type||e[8]!==c.expired_at){const G=xe(c.expired_at),O=Math.max(0,G.diff(xe(),"day"));let T;e[28]!==l||e[29]!==t?(T=()=>{t(!1),h(!1),l.reset()},e[28]=l,e[29]=t,e[30]=T):T=e[30],w=T;let $;e[31]!==l||e[32]!==w?($=()=>{l.post(Ce.cancel().url,{onSuccess:()=>{w()}})},e[31]=l,e[32]=w,e[33]=$):$=e[33],v=$;let A;e[34]!==r.name?(A=r.name.charAt(0).toUpperCase(),e[34]=r.name,e[35]=A):A=e[35];let Y;if(e[36]!==r.name){let U;e[38]===Symbol.for("react.memo_cache_sentinel")?(U=/-/g,e[38]=U):U=e[38],Y=r.name.slice(1).replace(U," "),e[36]=r.name,e[37]=Y}else Y=e[37];const ie=A+Y;D=Le,N=S,g=w,_=Be,f="max-h-[90vh] max-w-2xl overflow-y-auto",e[39]===Symbol.for("react.memo_cache_sentinel")?(B=s.jsxs(Pe,{children:[s.jsxs(De,{className:"flex items-center gap-2 text-2xl font-semibold text-red-600",children:[s.jsx(_e,{className:"h-6 w-6"}),"Cancel Subscription"]}),s.jsx(ke,{children:"We're sorry to see you go. Please review the details below."})]}),e[39]=B):B=e[39],m="space-y-6";let F;e[40]===Symbol.for("react.memo_cache_sentinel")?(F=s.jsx(We,{className:"mt-1 h-6 w-6 flex-shrink-0 text-red-600"}),e[40]=F):F=e[40];let re;e[41]===Symbol.for("react.memo_cache_sentinel")?(re=s.jsx("h4",{className:"font-semibold text-red-900",children:"Before you cancel:"}),e[41]=re):re=e[41];const Z=O!==1?"s":"";let ee;e[42]!==O||e[43]!==Z?(ee=s.jsxs("li",{children:["â€¢ You have ",O," day",Z," of access remaining"]}),e[42]=O,e[43]=Z,e[44]=ee):ee=e[44];let z,H,Q;e[45]===Symbol.for("react.memo_cache_sentinel")?(z=s.jsx("li",{children:"â€¢ All features remain active until the end date"}),H=s.jsx("li",{children:"â€¢ Unused SMS units will be lost after expiration"}),Q=s.jsx("li",{children:"â€¢ No refunds for the current billing period"}),e[45]=z,e[46]=H,e[47]=Q):(z=e[45],H=e[46],Q=e[47]);const se=s.jsxs("ul",{className:"space-y-1 text-sm text-red-800",children:[s.jsxs("li",{children:["â€¢ Your ",ie," subscription will end on"," ",G.format("MMMM D, YYYY")]}),ee,z,H,Q]});e[48]!==se?(P=s.jsx(le,{className:"border-2 border-red-500 bg-red-50",children:s.jsx(ae,{className:"pt-6",children:s.jsxs("div",{className:"flex gap-3",children:[F,s.jsxs("div",{className:"space-y-2",children:[re,se]})]})})}),e[48]=se,e[49]=P):P=e[49];let W;e[50]===Symbol.for("react.memo_cache_sentinel")?(W=s.jsx("h4",{className:"mb-3 font-semibold text-gray-900",children:"What you'll lose access to:"}),e[50]=W):W=e[50];let te;e[51]!==r.features||e[52]!==r.periodicity_type?(te=r.features?.map((U,fe)=>s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[s.jsx(_e,{className:"h-4 w-4 flex-shrink-0 text-red-500"}),s.jsxs("span",{className:"capitalize",children:[U.name.replace(/-/g," "),U.charges&&U.name==="sms-units"?` (${U.charges} units/${r.periodicity_type?.toLowerCase()||"month"})`:U.charges&&` (${U.charges})`]})]},fe)),e[51]=r.features,e[52]=r.periodicity_type,e[53]=te):te=e[53],e[54]!==te?(C=s.jsx(le,{children:s.jsxs(ae,{className:"pt-6",children:[W,s.jsx("div",{className:"space-y-2",children:te})]})}),e[54]=te,e[55]=C):C=e[55];let ce;e[56]===Symbol.for("react.memo_cache_sentinel")?(ce=s.jsx("h4",{className:"mb-3 font-semibold text-blue-900",children:"ðŸ’¡ Consider these alternatives:"}),e[56]=ce):ce=e[56];let oe;e[57]===Symbol.for("react.memo_cache_sentinel")?(oe=s.jsxs("li",{children:["â€¢ ",s.jsx("strong",{children:"Downgrade to a lower plan"})," ","instead of canceling"]}),e[57]=oe):oe=e[57];let me;e[58]===Symbol.for("react.memo_cache_sentinel")?(me=s.jsxs("li",{children:["â€¢ ",s.jsx("strong",{children:"Pause your campaigns"})," and keep minimal usage"]}),e[58]=me):me=e[58],e[59]===Symbol.for("react.memo_cache_sentinel")?(u=s.jsx(le,{className:"border-blue-200 bg-blue-50",children:s.jsxs(ae,{className:"pt-6",children:[ce,s.jsxs("ul",{className:"space-y-2 text-sm text-blue-800",children:[oe,me,s.jsxs("li",{children:["â€¢ ",s.jsx("strong",{children:"Contact support"})," if you're having issues"]})]})]})}),e[59]=u):u=e[59],x="flex items-start gap-3 rounded-lg border-2 border-gray-200 bg-white p-4",e[60]!==i?(o=s.jsx(He,{id:"confirm-cancel",checked:i,onCheckedChange:h,className:"mt-1"}),e[60]=i,e[61]=o):o=e[61],j="confirm-cancel",y="cursor-pointer text-sm leading-relaxed font-medium select-none",b="I understand that my subscription will end on",d=" ",a=G.format("MMMM D, YYYY"),e[1]=i,e[2]=l,e[3]=t,e[4]=S,e[5]=r.features,e[6]=r.name,e[7]=r.periodicity_type,e[8]=c.expired_at,e[9]=_,e[10]=D,e[11]=w,e[12]=v,e[13]=P,e[14]=C,e[15]=u,e[16]=f,e[17]=B,e[18]=N,e[19]=g,e[20]=a,e[21]=j,e[22]=y,e[23]=b,e[24]=d,e[25]=x,e[26]=o,e[27]=m}else _=e[9],D=e[10],w=e[11],v=e[12],P=e[13],C=e[14],u=e[15],f=e[16],B=e[17],N=e[18],g=e[19],a=e[20],j=e[21],y=e[22],b=e[23],d=e[24],x=e[25],o=e[26],m=e[27];let M;e[62]!==a?(M=s.jsx("strong",{children:a}),e[62]=a,e[63]=M):M=e[63];let E;e[64]!==M||e[65]!==j||e[66]!==y||e[67]!==b||e[68]!==d?(E=s.jsxs("label",{htmlFor:j,className:y,children:[b,d,M," ","and I will lose access to all premium features after this date. This action cannot be undone."]}),e[64]=M,e[65]=j,e[66]=y,e[67]=b,e[68]=d,e[69]=E):E=e[69];let ne;e[70]!==E||e[71]!==x||e[72]!==o?(ne=s.jsxs("div",{className:x,children:[o,E]}),e[70]=E,e[71]=x,e[72]=o,e[73]=ne):ne=e[73];let I;e[74]!==l.processing||e[75]!==w?(I=s.jsx(J,{type:"button",variant:"outline",className:"flex-1",onClick:w,disabled:l.processing,children:"Keep My Subscription"}),e[74]=l.processing,e[75]=w,e[76]=I):I=e[76];const K=!i||l.processing,X=l.processing?"Canceling...":"Yes, Cancel Subscription";let k;e[77]!==v||e[78]!==K||e[79]!==X?(k=s.jsx(J,{type:"button",variant:"destructive",className:"flex-1",onClick:v,disabled:K,children:X}),e[77]=v,e[78]=K,e[79]=X,e[80]=k):k=e[80];let L;e[81]!==I||e[82]!==k?(L=s.jsxs("div",{className:"flex gap-3 pt-4",children:[I,k]}),e[81]=I,e[82]=k,e[83]=L):L=e[83];let R;e[84]!==P||e[85]!==C||e[86]!==u||e[87]!==ne||e[88]!==L||e[89]!==m?(R=s.jsxs("div",{className:m,children:[P,C,u,ne,L]}),e[84]=P,e[85]=C,e[86]=u,e[87]=ne,e[88]=L,e[89]=m,e[90]=R):R=e[90];let q;e[91]!==_||e[92]!==f||e[93]!==B||e[94]!==R?(q=s.jsxs(_,{className:f,children:[B,R]}),e[91]=_,e[92]=f,e[93]=B,e[94]=R,e[95]=q):q=e[95];let V;return e[96]!==D||e[97]!==N||e[98]!==g||e[99]!==q?(V=s.jsx(D,{open:N,onOpenChange:g,children:q}),e[96]=D,e[97]=N,e[98]=g,e[99]=q,e[100]=V):V=e[100],V}function Je(n){const e=pe.c(5),{usage:S}=n;let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=s.jsxs(we,{children:[s.jsx(Me,{children:"Feature Usage"}),s.jsx(Re,{children:"Current billing period consumption"})]}),e[0]=t):t=e[0];let c;e[1]!==S?(c=S.map(Qe),e[1]=S,e[2]=c):c=e[2];let i;return e[3]!==c?(i=s.jsxs(le,{children:[t,s.jsx(ae,{className:"space-y-4",children:c})]}),e[3]=c,e[4]=i):i=e[4],i}function Qe(n,e){return s.jsxs("div",{children:[s.jsxs("div",{className:"mb-2 flex justify-between",children:[s.jsx("span",{className:"font-medium capitalize",children:n.name.replace(/-/g," ")}),s.jsxs("span",{className:"text-sm text-gray-600",children:[n.consumed.toLocaleString()," /"," ",n.total.toLocaleString()]})]}),s.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[n.remaining.toLocaleString()," remaining (",n.percentage,"% used)"]})]},e)}function Ve(n){const e=pe.c(34),{plans:S,currentSubscription:t,billingCycle:c,onBillingCycleChange:i,onSelectPlan:h}=n,p=ss;let l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l=["free","pro","business","enterprise"],e[0]=l):l=e[0];const r=l;let _;e[1]===Symbol.for("react.memo_cache_sentinel")?(_=d=>{const x=d.features.find(es),o=x?x.charges:0,m=d.name.replace("-yearly","").replace("-monthly",""),M={free:"Individuals, Micro Businesses",pro:"SMEs, Marketers",business:"High-volume Businesses",enterprise:"Agencies, Enterprises"};return{title:p(d.name),subtitle:M[m]||"",price:d.price,sms:o,popular:m==="business"}},e[1]=_):_=e[1];const D=_;let w;e[2]!==t?(w=d=>{if(!t)return"upgrade";const x=t.plan.name.replace("-yearly","").replace("-monthly",""),o=d.name.replace("-yearly","").replace("-monthly",""),m=r.indexOf(x),M=r.indexOf(o);return M>m?"upgrade":M<m?"downgrade":"current"},e[2]=t,e[3]=w):w=e[3];const v=w;let P;e[4]===Symbol.for("react.memo_cache_sentinel")?(P=s.jsx("h2",{className:"text-2xl font-bold",children:"Available Plans"}),e[4]=P):P=e[4];const C=c==="monthly"?"default":"ghost";let u;e[5]!==i?(u=()=>i("monthly"),e[5]=i,e[6]=u):u=e[6];let f;e[7]!==C||e[8]!==u?(f=s.jsx(J,{variant:C,onClick:u,children:"Monthly"}),e[7]=C,e[8]=u,e[9]=f):f=e[9];const B=c==="yearly"?"default":"ghost";let N;e[10]!==i?(N=()=>i("yearly"),e[10]=i,e[11]=N):N=e[11];let g;e[12]!==B||e[13]!==N?(g=s.jsx(J,{variant:B,onClick:N,children:"Yearly(-15%)"}),e[12]=B,e[13]=N,e[14]=g):g=e[14];let a;e[15]!==g||e[16]!==f?(a=s.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[P,s.jsxs("div",{className:"flex gap-2 rounded-lg border bg-gray-50 p-1",children:[f,g]})]}),e[15]=g,e[16]=f,e[17]=a):a=e[17];let j;if(e[18]!==c||e[19]!==t?.plan||e[20]!==v||e[21]!==h||e[22]!==S){let d;e[24]!==c||e[25]!==t?.plan||e[26]!==v||e[27]!==h?(d=x=>{const o=D(x),m=t?.plan.name===x.name,M=v(x);return s.jsxs(le,{className:`relative transition hover:shadow-md ${o.popular?"border-blue-500 shadow-lg":""} ${m?"border-green-500":""}`,children:[o.popular&&!m&&s.jsx(ue,{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-blue-500 text-white",children:"Most Popular"}),m&&s.jsx(ue,{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-green-500 text-white",children:"Current Plan"}),s.jsxs(we,{children:[s.jsx(Me,{children:o.title}),s.jsx(Re,{children:o.subtitle}),s.jsxs("div",{className:"mt-4",children:[s.jsxs("span",{className:"text-3xl font-bold",children:["â‚¦",o.price.toLocaleString()]}),s.jsxs("span",{className:"text-gray-500",children:["/",c]})]}),s.jsx("div",{children:s.jsxs("span",{className:"font-medium text-primary",children:["Include FREE â‚¦",o.sms," SMS"]})})]}),s.jsxs(ae,{children:[s.jsxs("ul",{className:"mb-6 space-y-3",children:[x.features.map(Ze),s.jsxs("li",{className:"flex items-start gap-2 font-medium text-primary",children:[s.jsx(he,{className:"mt-0.5 h-5 w-5 flex-shrink-0 text-green-500"}),s.jsxs("span",{className:"capitalize",children:["â‚¦",x.extra_sms_price,"/Extra SMS Units"]})]})]}),s.jsx(J,{className:"w-full",variant:m?"outline":o.popular?"default":"outline",onClick:()=>h(x),disabled:m,children:m?"Current Plan":M==="upgrade"?"Upgrade":"Downgrade"})]})]},x.id)},e[24]=c,e[25]=t?.plan,e[26]=v,e[27]=h,e[28]=d):d=e[28],j=S.map(d),e[18]=c,e[19]=t?.plan,e[20]=v,e[21]=h,e[22]=S,e[23]=j}else j=e[23];let y;e[29]!==j?(y=s.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:j}),e[29]=j,e[30]=y):y=e[30];let b;return e[31]!==a||e[32]!==y?(b=s.jsxs("div",{children:[a,y]}),e[31]=a,e[32]=y,e[33]=b):b=e[33],b}function Ze(n,e){return s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(he,{className:"mt-0.5 h-5 w-5 flex-shrink-0 text-green-500"}),s.jsxs("span",{className:"capitalize",children:[n.name.replace("-"," "),n.charges?` (${n.charges.toLocaleString()})`:""]})]},e)}function es(n){return n.name==="sms-units"}function ss(n){const e=n.replace("-yearly","").replace("-monthly","");return e.charAt(0).toUpperCase()+e.slice(1)}function ts(n){const e=pe.c(108),{open:S,onOpenChange:t,subscription:c}=n;let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i={},e[0]=i):i=e[0];const h=ve(i);if(!c)return null;const p=c.plan;let l,r,_,D,w,v,P,C,u,f,B,N,g,a,j,y,b,d;if(e[1]!==h||e[2]!==t||e[3]!==S||e[4]!==p.features||e[5]!==p.name||e[6]!==p.periodicity_type){const I=p.features?.find(ns)?.pivot.charges||0,K=is(p.name);let X;e[25]!==p.periodicity_type?(X=p.periodicity_type?.toLowerCase()||"month",e[25]=p.periodicity_type,e[26]=X):X=e[26];const k=X;let L;e[27]!==h||e[28]!==t?(L=()=>{t(!1),h.reset()},e[27]=h,e[28]=t,e[29]=L):L=e[29];const R=L;let q;e[30]!==h||e[31]!==R?(q=()=>{h.post(Ce.renew().url,{onSuccess:()=>{R()}})},e[30]=h,e[31]=R,e[32]=q):q=e[32];const V=q;let G;e[33]!==p.name?(G=p.name.charAt(0).toUpperCase(),e[33]=p.name,e[34]=G):G=e[34];let O;if(e[35]!==p.name){let ye;e[37]===Symbol.for("react.memo_cache_sentinel")?(ye=/-/g,e[37]=ye):ye=e[37],O=p.name.slice(1).replace(ye," "),e[35]=p.name,e[36]=O}else O=e[36];const T=G+O;_=Le,u=S,f=R,r=Be,P="max-h-[90vh] max-w-2xl overflow-y-auto",e[38]===Symbol.for("react.memo_cache_sentinel")?(C=s.jsxs(Pe,{children:[s.jsxs(De,{className:"flex items-center gap-2 text-2xl font-semibold",children:[s.jsx($e,{className:"h-6 w-6 text-blue-600"}),"Renew Subscription"]}),s.jsx(ke,{children:"Reactivate your subscription and restore full access"})]}),e[38]=C):C=e[38],d="space-y-6";let $;e[39]!==T?($=s.jsxs("h3",{className:"text-xl font-bold",children:[T," Plan"]}),e[39]=T,e[40]=$):$=e[40];let A;e[41]!==k?(A=s.jsxs("p",{className:"text-sm text-gray-500 capitalize",children:[k,"ly subscription"]}),e[41]=k,e[42]=A):A=e[42];let Y;e[43]!==$||e[44]!==A?(Y=s.jsxs("div",{children:[$,A]}),e[43]=$,e[44]=A,e[45]=Y):Y=e[45];const ie=s.jsxs("div",{className:"mb-4 flex items-start justify-between",children:[Y,s.jsxs(ue,{className:"px-3 py-1 text-lg",children:["â‚¦",K.toLocaleString()]})]});let F;e[46]===Symbol.for("react.memo_cache_sentinel")?(F=s.jsx(he,{className:"h-4 w-4 text-green-500"}),e[46]=F):F=e[46];const re=I.toLocaleString();let Z;e[47]!==k?(Z=k.toLowerCase(),e[47]=k,e[48]=Z):Z=e[48];const ee=s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[F,s.jsxs("span",{children:[re," SMS units/",Z]})]});let z;e[49]!==p.features?(z=p.features?.filter(as).map(ls),e[49]=p.features,e[50]=z):z=e[50];let H;e[51]!==ee||e[52]!==z?(H=s.jsxs("div",{className:"space-y-2",children:[ee,z]}),e[51]=ee,e[52]=z,e[53]=H):H=e[53],e[54]!==ie||e[55]!==H?(D=s.jsx(le,{className:"border-2 border-blue-500",children:s.jsxs(ae,{className:"pt-6",children:[ie,H]})}),e[54]=ie,e[55]=H,e[56]=D):D=e[56];let Q;e[57]===Symbol.for("react.memo_cache_sentinel")?(Q=s.jsx("h4",{className:"mb-3 font-semibold text-green-900",children:"âœ¨ What happens when you renew:"}),e[57]=Q):Q=e[57];let se;e[58]===Symbol.for("react.memo_cache_sentinel")?(se=s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(he,{className:"mt-0.5 h-4 w-4 flex-shrink-0"}),s.jsx("span",{children:"Immediate access restoration to all features"})]}),e[58]=se):se=e[58];let W;e[59]===Symbol.for("react.memo_cache_sentinel")?(W=s.jsx(he,{className:"mt-0.5 h-4 w-4 flex-shrink-0"}),e[59]=W):W=e[59];const te=I.toLocaleString();let ce;e[60]!==te?(ce=s.jsxs("li",{className:"flex items-start gap-2",children:[W,s.jsxs("span",{children:["Fresh allocation of"," ",te," SMS units"]})]}),e[60]=te,e[61]=ce):ce=e[61];let oe;e[62]===Symbol.for("react.memo_cache_sentinel")?(oe=s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(he,{className:"mt-0.5 h-4 w-4 flex-shrink-0"}),s.jsx("span",{children:"Any existing SMS balance is preserved and added on top"})]}),e[62]=oe):oe=e[62];let me;e[63]===Symbol.for("react.memo_cache_sentinel")?(me=s.jsx(he,{className:"mt-0.5 h-4 w-4 flex-shrink-0"}),e[63]=me):me=e[63];let U;e[64]!==k?(U=s.jsxs("li",{className:"flex items-start gap-2",children:[me,s.jsxs("span",{children:["New ",k,"ly billing cycle starts immediately"]})]}),e[64]=k,e[65]=U):U=e[65],e[66]!==ce||e[67]!==U?(w=s.jsx(le,{className:"border-green-200 bg-green-50",children:s.jsxs(ae,{className:"pt-6",children:[Q,s.jsxs("ul",{className:"space-y-2 text-sm text-green-800",children:[se,ce,oe,U]})]})}),e[66]=ce,e[67]=U,e[68]=w):w=e[68];let fe;e[69]===Symbol.for("react.memo_cache_sentinel")?(fe=s.jsx(Te,{className:"mt-0.5 h-5 w-5 flex-shrink-0 text-blue-600"}),e[69]=fe):fe=e[69];let je;e[70]===Symbol.for("react.memo_cache_sentinel")?(je=s.jsx("p",{className:"mb-2 font-semibold text-blue-900",children:"Payment Details:"}),e[70]=je):je=e[70];let be;e[71]!==k||e[72]!==T?(be=s.jsxs("span",{children:[T," Plan (",k,"ly)"]}),e[71]=k,e[72]=T,e[73]=be):be=e[73];const Ne=s.jsxs("div",{className:"flex justify-between",children:[be,s.jsxs("span",{className:"font-medium",children:["â‚¦",K.toLocaleString()]})]});let ge;e[74]===Symbol.for("react.memo_cache_sentinel")?(ge=s.jsx("span",{children:"Total Due"}),e[74]=ge):ge=e[74];const Se=s.jsxs("div",{className:"flex justify-between border-t border-blue-200 pt-2 text-base font-bold",children:[ge,s.jsxs("span",{className:"text-blue-600",children:["â‚¦",K.toLocaleString()]})]});e[75]!==Ne||e[76]!==Se?(v=s.jsx(le,{className:"border-blue-200 bg-blue-50",children:s.jsx(ae,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start gap-3",children:[fe,s.jsxs("div",{className:"flex-1",children:[je,s.jsxs("div",{className:"space-y-2 text-sm text-blue-800",children:[Ne,Se]})]})]})})}),e[75]=Ne,e[76]=Se,e[77]=v):v=e[77],y="flex gap-3 pt-4",e[78]!==h.processing||e[79]!==R?(b=s.jsx(J,{type:"button",variant:"outline",className:"flex-1",onClick:R,disabled:h.processing,children:"Cancel"}),e[78]=h.processing,e[79]=R,e[80]=b):b=e[80],l=J,B="button",N="flex-1",g=V,a=h.processing,j=h.processing?"Processing...":`Renew for â‚¦${K.toLocaleString()}`,e[1]=h,e[2]=t,e[3]=S,e[4]=p.features,e[5]=p.name,e[6]=p.periodicity_type,e[7]=l,e[8]=r,e[9]=_,e[10]=D,e[11]=w,e[12]=v,e[13]=P,e[14]=C,e[15]=u,e[16]=f,e[17]=B,e[18]=N,e[19]=g,e[20]=a,e[21]=j,e[22]=y,e[23]=b,e[24]=d}else l=e[7],r=e[8],_=e[9],D=e[10],w=e[11],v=e[12],P=e[13],C=e[14],u=e[15],f=e[16],B=e[17],N=e[18],g=e[19],a=e[20],j=e[21],y=e[22],b=e[23],d=e[24];let x;e[81]!==l||e[82]!==B||e[83]!==N||e[84]!==g||e[85]!==a||e[86]!==j?(x=s.jsx(l,{type:B,className:N,onClick:g,disabled:a,children:j}),e[81]=l,e[82]=B,e[83]=N,e[84]=g,e[85]=a,e[86]=j,e[87]=x):x=e[87];let o;e[88]!==x||e[89]!==y||e[90]!==b?(o=s.jsxs("div",{className:y,children:[b,x]}),e[88]=x,e[89]=y,e[90]=b,e[91]=o):o=e[91];let m;e[92]!==D||e[93]!==w||e[94]!==v||e[95]!==o||e[96]!==d?(m=s.jsxs("div",{className:d,children:[D,w,v,o]}),e[92]=D,e[93]=w,e[94]=v,e[95]=o,e[96]=d,e[97]=m):m=e[97];let M;e[98]!==r||e[99]!==P||e[100]!==C||e[101]!==m?(M=s.jsxs(r,{className:P,children:[C,m]}),e[98]=r,e[99]=P,e[100]=C,e[101]=m,e[102]=M):M=e[102];let E;return e[103]!==_||e[104]!==u||e[105]!==f||e[106]!==M?(E=s.jsx(_,{open:u,onOpenChange:f,children:M}),e[103]=_,e[104]=u,e[105]=f,e[106]=M,e[107]=E):E=e[107],E}function ls(n,e){return s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(he,{className:"h-4 w-4 text-green-500"}),s.jsxs("span",{className:"capitalize",children:[n.name.replace(/-/g," "),n.charges&&` (${n.charges})`]})]},e)}function as(n){return n.name!=="sms-units"}function ns(n){return n.name==="sms-units"}function is(n){return{free:0,pro:4998.98,"pro-yearly":50989.596,business:9997.99,"business-yearly":101979.498,enterprise:19995.99,"enterprise-yearly":203959.098}[n]||0}function rs(n){const e=pe.c(6),{transactions:S}=n;let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=s.jsx(we,{children:s.jsxs(Me,{className:"flex items-center gap-2",children:[s.jsx(Ke,{className:"h-5 w-5"})," Recent Transactions"]})}),e[0]=t):t=e[0];let c;e[1]===Symbol.for("react.memo_cache_sentinel")?(c=s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"py-3 text-left",children:"Date"}),s.jsx("th",{className:"py-3 text-left",children:"Description"}),s.jsx("th",{className:"py-3 text-left",children:"Amount"}),s.jsx("th",{className:"py-3 text-left",children:"Status"}),s.jsx("th",{className:"py-3 text-left",children:"Method"})]})}),e[1]=c):c=e[1];let i;e[2]!==S?(i=S?.length>0?S.map(cs):s.jsx("tr",{children:s.jsx("td",{colSpan:"5",className:"py-8 text-center text-gray-500",children:"No transactions yet. Subscribe to a plan to start a transaction."})}),e[2]=S,e[3]=i):i=e[3];let h;return e[4]!==i?(h=s.jsxs(le,{children:[t,s.jsx(ae,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[c,s.jsx("tbody",{children:i})]})})})]}),e[4]=i,e[5]=h):h=e[5],h}function cs(n){return s.jsxs("tr",{className:"border-b",children:[s.jsx("td",{className:"py-3",children:new Date(n.created_at).toLocaleDateString()}),s.jsx("td",{className:"py-3",children:n.description}),s.jsxs("td",{className:"py-3 font-medium",children:["â‚¦",n.amount.toLocaleString()]}),s.jsx("td",{className:"py-3",children:s.jsx(ue,{variant:n.status==="completed"?"default":n.status==="failed"?"destructive":"secondary",children:n.status})}),s.jsx("td",{className:"py-3 capitalize",children:n.payment_method.replace("_"," ")})]},n.id)}function As(n){const e=pe.c(82),{plans:S,currentSubscription:t,featureUsage:c,smsBalance:i,transactions:h}=n,[p,l]=de.useState(null),[r,_]=de.useState(!1),[D,w]=de.useState(!1),[v,P]=de.useState(!1),[C,u]=de.useState(!1),[f,B]=de.useState("monthly");let N,g,a,j,y,b,d,x;if(e[0]!==f||e[1]!==t||e[2]!==S){a=t?{...t,is_active:t.expired_at?xe().isBefore(xe(t.expired_at)):!0,days_remaining:t.expired_at?Math.max(0,xe(t.expired_at).diff(xe(),"day")):"forever"}:null,console.log(a);let Z;e[11]===Symbol.for("react.memo_cache_sentinel")?(Z=W=>{l(W),_(!0)},e[11]=Z):Z=e[11],d=Z;let ee;e[12]===Symbol.for("react.memo_cache_sentinel")?(ee=()=>{w(!0)},e[12]=ee):ee=e[12],j=ee;let z;e[13]===Symbol.for("react.memo_cache_sentinel")?(z=()=>{P(!0)},e[13]=z):z=e[13],b=z;let H;e[14]===Symbol.for("react.memo_cache_sentinel")?(H=()=>{u(!0)},e[14]=H):H=e[14],y=H;let Q;e[15]===Symbol.for("react.memo_cache_sentinel")?(Q=[{title:"Dashboard",href:"/dashboard"},{title:"Billing",href:"/billing"}],e[15]=Q):Q=e[15],N=Q;let se;if(e[16]!==f||e[17]!==S){let W;e[19]!==f?(W=te=>f==="yearly"?te.is_yearly:!te.is_yearly,e[19]=f,e[20]=W):W=e[20],se=S.filter(W),e[16]=f,e[17]=S,e[18]=se}else se=e[18];g=se,x=a&&(a.expired_at&&xe().isAfter(xe(a.expired_at))||a.days_remaining<=7||a.canceled_at||a.suppressed_at),e[0]=f,e[1]=t,e[2]=S,e[3]=N,e[4]=g,e[5]=a,e[6]=j,e[7]=y,e[8]=b,e[9]=d,e[10]=x}else N=e[3],g=e[4],a=e[5],j=e[6],y=e[7],b=e[8],d=e[9],x=e[10];const o=x,m=a&&a.is_active,M=a&&a.plan.name!=="free"&&a.is_active&&!a.canceled_at&&!a.suppressed_at;let E;e[21]===Symbol.for("react.memo_cache_sentinel")?(E=s.jsx(Ae,{title:"Billing & Subscription"}),e[21]=E):E=e[21];let ne;e[22]===Symbol.for("react.memo_cache_sentinel")?(ne=s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Billing & Subscription"}),s.jsx("p",{className:"mt-1 text-gray-500",children:"Manage your subscription, SMS units, and payments"})]}),e[22]=ne):ne=e[22];let I;e[23]!==m||e[24]!==j?(I=m&&s.jsxs(J,{onClick:j,variant:"outline",className:"gap-2",children:[s.jsx(Xe,{className:"h-4 w-4"}),"Buy SMS Units"]}),e[23]=m,e[24]=j,e[25]=I):I=e[25];let K;e[26]!==o||e[27]!==b?(K=o&&s.jsxs(J,{onClick:b,variant:"default",className:"gap-2 hidden md:block",children:[s.jsx($e,{className:"h-4 w-4"}),"Renew Subscription"]}),e[26]=o,e[27]=b,e[28]=K):K=e[28];let X;e[29]!==M||e[30]!==y?(X=M&&s.jsxs(J,{onClick:y,variant:"destructive",className:"gap-2",children:[s.jsx(_e,{className:"h-4 w-4"}),"Cancel Subscription"]}),e[29]=M,e[30]=y,e[31]=X):X=e[31];let k;e[32]!==I||e[33]!==K||e[34]!==X?(k=s.jsxs("div",{className:"flex items-start justify-between",children:[ne,s.jsxs("div",{className:"flex gap-3",children:[I,K,X]})]}),e[32]=I,e[33]=K,e[34]=X,e[35]=k):k=e[35];let L;e[36]!==a||e[37]!==i?(L=s.jsx(Ee,{normalizedSubscription:a,smsBalance:i}),e[36]=a,e[37]=i,e[38]=L):L=e[38];const R=m?j:null,q=o?b:null;let V;e[39]!==a||e[40]!==i||e[41]!==q||e[42]!==R?(V=s.jsx(Ie,{normalizedSubscription:a,smsBalance:i,onBuyExtraSms:R,onRenew:q}),e[39]=a,e[40]=i,e[41]=q,e[42]=R,e[43]=V):V=e[43];let G;e[44]!==c?(G=c&&c.length>0&&s.jsx(Je,{usage:c}),e[44]=c,e[45]=G):G=e[45];let O;e[46]!==f||e[47]!==t||e[48]!==g||e[49]!==d?(O=s.jsx(Ve,{plans:g,currentSubscription:t,billingCycle:f,onBillingCycleChange:B,onSelectPlan:d}),e[46]=f,e[47]=t,e[48]=g,e[49]=d,e[50]=O):O=e[50];let T;e[51]!==h?(T=h&&s.jsx(rs,{transactions:h}),e[51]=h,e[52]=T):T=e[52];let $;e[53]!==V||e[54]!==G||e[55]!==O||e[56]!==T||e[57]!==k||e[58]!==L?($=s.jsxs("div",{className:"space-y-8 p-6",children:[k,L,V,G,O,T]}),e[53]=V,e[54]=G,e[55]=O,e[56]=T,e[57]=k,e[58]=L,e[59]=$):$=e[59];let A;e[60]!==p||e[61]!==r?(A=s.jsx(ze,{open:r,onOpenChange:_,plan:p}),e[60]=p,e[61]=r,e[62]=A):A=e[62];let Y;e[63]!==m||e[64]!==t?.plan||e[65]!==D?(Y=m&&s.jsx(qe,{open:D,onOpenChange:w,currentPlan:t?.plan}),e[63]=m,e[64]=t?.plan,e[65]=D,e[66]=Y):Y=e[66];let ie;e[67]!==o||e[68]!==t||e[69]!==v?(ie=o&&s.jsx(ts,{open:v,onOpenChange:P,subscription:t}),e[67]=o,e[68]=t,e[69]=v,e[70]=ie):ie=e[70];let F;e[71]!==M||e[72]!==t||e[73]!==C?(F=M&&s.jsx(Ge,{open:C,onOpenChange:u,subscription:t}),e[71]=M,e[72]=t,e[73]=C,e[74]=F):F=e[74];let re;return e[75]!==N||e[76]!==$||e[77]!==A||e[78]!==Y||e[79]!==ie||e[80]!==F?(re=s.jsxs(Ue,{breadcrumbs:N,children:[E,$,A,Y,ie,F]}),e[75]=N,e[76]=$,e[77]=A,e[78]=Y,e[79]=ie,e[80]=F,e[81]=re):re=e[81],re}export{As as default};
